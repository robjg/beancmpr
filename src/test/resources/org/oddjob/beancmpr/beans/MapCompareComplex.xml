<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<oddjob>
    <job>
        <sequential>
            <jobs>
                <beancmpr:compare id="compare-maps" keyProperties="batch" valueProperties="fruitMap" xmlns:beancmpr="oddjob:beancmpr">
                    <inX>
                        <list>
                            <values>
                                <bean batch="1" class="org.oddjob.beancmpr.beans.MapComparerTypeTest$MapBean2">
                                    <fruitMap>
                                        <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$FruitMap2">
                                            <entries>
                                                <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$FruitMapEntry">
                                                    <key>
                                                        <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$KeyBean" colour="green" fruit="apple"/>
                                                    </key>
                                                    <value>
                                                        <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$ValueBean" price="13.9" quantity="42"/>
                                                    </value>
                                                </bean>
                                                <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$FruitMapEntry">
                                                    <key>
                                                        <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$KeyBean" colour="red" fruit="apple"/>
                                                    </key>
                                                    <value>
                                                        <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$ValueBean" price="15.9" quantity="30"/>
                                                    </value>
                                                </bean>
                                                <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$FruitMapEntry">
                                                    <key>
                                                        <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$KeyBean" colour="yellow" fruit="banana"/>
                                                    </key>
                                                    <value>
                                                        <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$ValueBean" price="16.0" quantity="5"/>
                                                    </value>
                                                </bean>
                                                <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$FruitMapEntry">
                                                    <key>
                                                        <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$KeyBean" colour="pink" fruit="gratefruit"/>
                                                    </key>
                                                    <value>
                                                        <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$ValueBean" price="42.0" quantity="2"/>
                                                    </value>
                                                </bean>
                                            </entries>
                                        </bean>
                                    </fruitMap>
                                </bean>
                            </values>
                        </list>
                    </inX>
                    <inY>
                        <list>
                            <values>
                                <bean batch="1" class="org.oddjob.beancmpr.beans.MapComparerTypeTest$MapBean2">
                                    <fruitMap>
                                        <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$FruitMap2">
                                            <entries>
                                                <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$FruitMapEntry">
                                                    <key>
                                                        <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$KeyBean" colour="green" fruit="pear"/>
                                                    </key>
                                                    <value>
                                                        <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$ValueBean" price="12.5" quantity="24"/>
                                                    </value>
                                                </bean>
                                                <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$FruitMapEntry">
                                                    <key>
                                                        <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$KeyBean" colour="red" fruit="apple"/>
                                                    </key>
                                                    <value>
                                                        <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$ValueBean" price="16.1" quantity="30"/>
                                                    </value>
                                                </bean>
                                                <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$FruitMapEntry">
                                                    <key>
                                                        <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$KeyBean" colour="yellow" fruit="banana"/>
                                                    </key>
                                                    <value>
                                                        <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$ValueBean" price="16.0" quantity="6"/>
                                                    </value>
                                                </bean>
                                                <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$FruitMapEntry">
                                                    <key>
                                                        <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$KeyBean" colour="pink" fruit="gratefruit"/>
                                                    </key>
                                                    <value>
                                                        <bean class="org.oddjob.beancmpr.beans.MapComparerTypeTest$ValueBean" price="42.0" quantity="2"/>
                                                    </value>
                                                </bean>
                                            </entries>
                                        </bean>
                                    </fruitMap>
                                </bean>
                            </values>
                        </list>
                    </inY>
                    <results>
                        <beancmpr:bean-results>
                            <out>
                                <list/>
                            </out>
                        </beancmpr:bean-results>
                    </results>
                    <comparersByType>
                        <beancmpr:comparers-list>
                            <comparers>
                                <beancmpr:map-comparer keys="colour, fruit" values="quantity, price">
                                    <comparersByType>
                                        <beancmpr:comparers-list>
                                            <specialisations>
                                                <beancmpr:numeric-comparer deltaTolerance="1" key="double"/>
                                            </specialisations>
                                        </beancmpr:comparers-list>
                                    </comparersByType>
                                </beancmpr:map-comparer>
                            </comparers>
                        </beancmpr:comparers-list>
                    </comparersByType>
                </beancmpr:compare>
                <bean-report>
                    <beans>
                        <value value="${compare-maps.results.out}"/>
                    </beans>
                </bean-report>
            </jobs>
        </sequential>
    </job>
</oddjob>
